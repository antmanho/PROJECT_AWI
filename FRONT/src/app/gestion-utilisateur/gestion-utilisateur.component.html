<h2 class="title">GESTION-UTILISATEUR</h2>
<div class="main-container">
    <div id="header" style="width: 100%; height: 1.5vh; background-color: white; z-index: 1000;">
        <div style="text-align: center;">
          
        </div>
        
        <br>

        <div style="display: flex; align-items: center; width: 100%">
            <div style="flex-grow: 1;">
                <form method="get" action="/R1" style="display: flex;">
                    <input type="text" name="search" placeholder="Rechercher..." style="flex-grow: 1; height: 5vh; border: 2px solid black; outline: none; font-size: 2vw;" />
                    <input id="search-button" type="submit" Value=""/>
                </form>
            </div>
            <div>
                <button id="reglage-button" onclick="openFilterPopup()"></button>
            </div>
        </div>
       
    </div>
    <br><br><br><br><br>
<div class="notification" *ngIf="showNotification" [ngClass]="{'show': showNotification, 'success': notificationType === 'success', 'error': notificationType === 'error'}">
  <button class="close-btn" (click)="closeNotification()">&times;</button>
  {{ notificationMessage }}
</div>


<table>
  <thead>
    <tr>
      <th>Email</th>
      <th>Mot de passe</th>
      <th>Nom</th>
      <th>Téléphone</th>
      <th>Adresse</th>
      <th>Rôle</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let user of users; let i = index">
      <td><input [(ngModel)]="user.email" (ngModelChange)="markAsModified(user)" /></td>
      <td><input [(ngModel)]="user.mdp" type="password" (ngModelChange)="markAsModified(user)" /></td>
      <td><input [(ngModel)]="user.nom" (ngModelChange)="markAsModified(user)" /></td>
      <td><input [(ngModel)]="user.telephone" (ngModelChange)="markAsModified(user)" /></td>
      <td><input [(ngModel)]="user.adresse" (ngModelChange)="markAsModified(user)" /></td>
      <td><input [(ngModel)]="user.role" (ngModelChange)="markAsModified(user)" /></td>
    </tr>
  </tbody>
</table>

<button (click)="saveChanges()">Sauvegarder toutes les modifications</button>


<style>
    .title {
        text-align: center;       /* Centre le texte */
        font-size: 24px;          /* Taille de la police pour le titre */
        font-weight: bold;        /* Gras pour le titre */
        margin-bottom: 20px;      /* Espace sous le titre */
        color: #333;              /* Couleur du texte, modifiable selon ta préférence */
    }
    /* Style global pour le tableau */
    table {
      width: 100%; /* Utilise toute la largeur disponible */
      max-width: 100%; /* Empêche le dépassement */
      border-collapse: collapse; /* Fusionner les bordures */
      margin-bottom: 20px;
      background-color: #f4f4f4; /* Fond gris clair pour le tableau */
      table-layout: fixed; /* Empêche les colonnes de s'étirer excessivement */
    }

    /* Style pour les en-têtes de colonne */
    th {
      background-color: #808080; /* Gris moyen pour l'en-tête */
      color: white;
      padding: 12px 15px; /* Espacement autour du texte */
      text-align: left;
      font-weight: bold;
      word-wrap: break-word; /* Permet de couper le texte trop long */
      overflow: hidden; /* Masquer tout texte qui dépasse */
      text-overflow: ellipsis; /* Ajouter des points de suspension pour le texte trop long */
      white-space: nowrap; /* Empêche le texte de passer à la ligne */
    }

    /* Style pour les cellules */
    td {
      border: 1px solid #ccc; /* Bordure gris clair pour les cellules */
      padding: 8px 12px;
      text-align: left;
      background-color: #f9f9f9; /* Fond gris très clair pour les lignes */
      word-wrap: break-word; /* Casser les mots si nécessaire */
      overflow: hidden; /* Empêche les débordements de contenu */
      text-overflow: ellipsis; /* Ajouter des points de suspension pour les débordements de texte */
      white-space: nowrap; /* Empêche les retours à la ligne dans les cellules */
    }

    /* Lignes alternées pour le tableau */
    tr:nth-child(even) {
      background-color: #e0e0e0; /* Gris clair pour les lignes paires */
    }

    /* Style pour les champs de saisie */
    input[type="text"], input[type="date"], input[type="number"] {
      width: 100%; /* Les champs prennent toute la largeur de la cellule */
      padding: 8px;
      border: 1px solid #ccc; /* Bordure gris clair pour les champs */
      border-radius: 4px;
      box-sizing: border-box; /* Inclut le padding dans la largeur */
      font-size: 14px;
      background-color: #fafafa; /* Fond gris très clair pour les champs */
      overflow: hidden; /* Masquer tout contenu qui dépasse */
      text-overflow: ellipsis; /* Ajouter des points de suspension pour le texte trop long */
    }

    /* Ajuster la largeur de la colonne 'Frais dépôt fixe' */
    td:nth-child(6), th:nth-child(6) {
      min-width: 150px; /* Largeur minimale de 150px */
      width: 150px; /* Largeur fixe de 150px pour une meilleure lisibilité */
    }

    /* Style pour le bouton */
    button {
      background-color: #808080; /* Gris moyen pour le bouton */
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      font-size: 16px;
      cursor: pointer;
      margin-top: 20px;
      display: block; /* Centrer le bouton */
      width: 80%;
      margin-left: auto;
      margin-right: auto;
    }

    button:hover {
      background-color: #707070; /* Gris légèrement plus foncé au survol */
    }
    /* Style global pour la notification */
    /* Style global pour la notification */
    /* Style global pour la notification */
    /* Style global pour la notification */
    /* Style global pour la notification */
    .notification {
        position: fixed;  /* Fixe la notification par rapport à la fenêtre */
        top: 20px;  /* Décalage de 20px du haut */
        right: 20px;  /* Décalage de 20px de la droite */
        padding: 20px;
        color: white;
        border-radius: 5px;
        width: 23%;  /* Largeur de la notification */
        z-index: 1000;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        visibility: hidden; /* Par défaut, invisible */
        transition: visibility 0.3s ease;  /* Transition fluide pour l'apparition */
    }

    /* Classe pour afficher la notification */
    .notification.show {
        visibility: visible;  /* La notification devient visible quand showNotification est vrai */
    }

    /* Styles pour la notification de succès */
    .notification.success {
        background-color: #28a745;  /* Vert pour succès */
    }

    /* Styles pour la notification d'erreur */
    .notification.error {
        background-color: #dc3545;  /* Rouge pour erreur */
    }

    /* Style pour le bouton de fermeture (la croix) */
    .close-btn {
        background: none;
        border: none;
        color: white;
        font-size: 20px;  /* Taille de la croix */
        font-weight: bold;
        cursor: pointer;
        position: absolute;  /* Positionne la croix à l'intérieur de la notification */
        top: 5px;  /* Décalage de 5px du haut */
        width: 20%;
        right: 10px;  /* Décalage de 10px de la droite */
        margin: 0;
    }

    /* Changer la couleur de la croix au survol */
    .close-btn:hover {
        color: #ccc;  /* Change la couleur du bouton au survol */
    }
    /* Conteneur principal de la barre de recherche */
       .main-container div[style*="display: flex; align-items: center;"] {
           display: flex;
           align-items: center;
           gap: 10px; /* Ajuste l'espacement entre les éléments */
       }

       /* Bouton de recherche */
       #search-button {
           width: 5%;
           height: 5vh; /* Ajuste à la même hauteur que le champ de recherche */
           background: url('IMAGE/rechercher.PNG') no-repeat center center;
           background-size: contain;
           border: none;
           cursor: pointer;
           border-top: 2px solid black;
           border-right: 2px solid black;
           border-bottom: 2px solid black;
       }

       /* Ajustement pour le bouton réglage */
       #reglage-button {
           width: 5%;
           height: 5vh; /* Correspond à la hauteur du champ de recherche et du bouton de recherche */
           background: url('IMAGE/reglage.PNG') no-repeat center center;
           background-size: contain;
           border: none;
           cursor: pointer;
           margin-top: 0.3vh; /* Ajuste cette valeur pour affiner l'alignement */
           
       }
    
    </style>


