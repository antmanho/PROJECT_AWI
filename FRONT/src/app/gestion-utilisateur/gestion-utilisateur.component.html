<h2 class="title">GESTION-UTILISATEUR</h2>
<div class="main-container">
    <div id="header" style="width: 100%; height: 1.5vh; background-color: white; z-index: 1000;">
        <div style="text-align: center;">
          
        </div>
        
        <br>

        <div style="display: flex; align-items: center; width: 100%">
            <div style="flex-grow: 1;">
                <form method="get" action="/R1" style="display: flex;">
                    <input type="text" name="search" placeholder="Rechercher..." style="flex-grow: 1; height: 5vh; border: 2px solid black; outline: none; font-size: 2vw;" />
                    <input id="search-button" type="submit" Value=""/>
                </form>
            </div>
            <div>
                <button id="reglage-button" onclick="openFilterPopup()"></button>
            </div>
        </div>
       
    </div>
    <br><br><br><br><br>
<div class="notification" *ngIf="showNotification" [ngClass]="{'show': showNotification, 'success': notificationType === 'success', 'error': notificationType === 'error'}">
  <button class="close-btn" (click)="closeNotification()">&times;</button>
  {{ notificationMessage }}
</div>


<table>
  <thead>
    <tr>
      <th>Email</th>
      <th>Mot de passe</th>
      <th>Nom</th>
      <th>Téléphone</th>
      <th>Adresse</th>
      <th>Rôle</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let user of users; let i = index">
      <td><input [(ngModel)]="user.email" (ngModelChange)="markAsModified(user)" /></td>
      <td><input [(ngModel)]="user.mdp" type="password" (ngModelChange)="markAsModified(user)" /></td>
      <td><input [(ngModel)]="user.nom" (ngModelChange)="markAsModified(user)" /></td>
      <td><input [(ngModel)]="user.telephone" (ngModelChange)="markAsModified(user)" /></td>
      <td><input [(ngModel)]="user.adresse" (ngModelChange)="markAsModified(user)" /></td>
      <td><input [(ngModel)]="user.role" (ngModelChange)="markAsModified(user)" /></td>
    </tr>
  </tbody>
</table>

<button (click)="saveChanges()">Sauvegarder toutes les modifications</button>
